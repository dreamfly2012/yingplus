<{include file="default/Public/header" /}>





<link href="__PUBLIC__/admin/umeditor/themes/default/css/umeditor.css" type="text/css" rel="stylesheet">

<script type="text/javascript" charset="utf-8" src="__PUBLIC__/admin/umeditor/umeditor.config.js"></script>

<script type="text/javascript" charset="utf-8" src="__PUBLIC__/admin/umeditor/umeditor.min.js"></script>

<script type="text/javascript" src="__PUBLIC__/admin/umeditor/lang/zh-cn/zh-cn.js"></script>

<div class="page-container row-fluid">



    <!-- BEGIN SIDEBAR -->



    <{include file="default/Index/left" /}>



    <!-- BEGIN PAGE -->



    <div class="page-content">



        <!-- BEGIN SAMPLE PORTLET CONFIGURATION MODAL FORM-->



        <div id="portlet-config" class="modal hide">



            <div class="modal-header">



                <button data-dismiss="modal" class="close" type="button"></button>



                <h3>portlet Settings</h3>



            </div>



            <div class="modal-body">



                <p>Here will be a configuration form</p>



            </div>



        </div>



        <!-- END SAMPLE PORTLET CONFIGURATION MODAL FORM-->



        <!-- BEGIN PAGE CONTAINER-->



        <div class="container-fluid">



            <!-- BEGIN PAGE HEADER-->



            <div class="row-fluid">



                <div class="span12">



                    <!-- BEGIN STYLE CUSTOMIZER -->



                    <div class="color-panel hidden-phone">



                        <div class="color-mode-icons icon-color"></div>



                        <div class="color-mode-icons icon-color-close"></div>



                        <div class="color-mode">



                            <p>THEME COLOR</p>



                            <ul class="inline">



                                <li class="color-black current color-default" data-style="default"></li>



                                <li class="color-blue" data-style="blue"></li>



                                <li class="color-brown" data-style="brown"></li>



                                <li class="color-purple" data-style="purple"></li>



                                <li class="color-grey" data-style="grey"></li>



                                <li class="color-white color-light" data-style="light"></li>



                            </ul>



                            <label>



                                <span>Layout</span>



                                <select class="layout-option m-wrap small">



                                    <option value="fluid" selected>Fluid</option>



                                    <option value="boxed">Boxed</option>



                                </select>



                            </label>



                            <label>



                                <span>Header</span>



                                <select class="header-option m-wrap small">



                                    <option value="fixed" selected>Fixed</option>



                                    <option value="default">Default</option>



                                </select>



                            </label>



                            <label>



                                <span>Sidebar</span>



                                <select class="sidebar-option m-wrap small">



                                    <option value="fixed">Fixed</option>



                                    <option value="default" selected>Default</option>



                                </select>



                            </label>



                            <label>



                                <span>Footer</span>



                                <select class="footer-option m-wrap small">



                                    <option value="fixed">Fixed</option>



                                    <option value="default" selected>Default</option>



                                </select>



                            </label>



                        </div>



                    </div>



                    <!-- END BEGIN STYLE CUSTOMIZER -->



                    <h3 class="page-title">



                        视频添加

                        <small>视频添加页面</small>

                    </h3>

                </div>

            </div>

            <div class="row-fluid">

                <div class="span12">

                    <div class="portlet box blue tabbable">

                        <div class="portlet-title">



                            <div class="caption">



                                <i class="icon-reorder"></i>



                                <span class="hidden-480">视频添加</span>



                            </div>



                        </div>



                        <div class="portlet-body form">



                            <div class="tabbable portlet-tabs">



                                <ul class="nav nav-tabs">



                                    <li class="active"><a href="#portlet_tab1" data-toggle="tab">默认风格</a></li>



                                </ul>



                                <div class="tab-content">



                                    <div class="tab-pane active" id="portlet_tab1">



                                        <!-- BEGIN FORM-->



                                        <form  action="<{:U('Home/VideoManage/updateVideo')}>" enctype="multipart/form-data"  method="post" class="form-horizontal">



                                            <div class="control-group">
                                                <label class="control-label"> 视频标题：</label>
                                                <div class="controls">
                                                    <input class="Wdate m-wrap small" value="<{$video['title']}>" name="title" type="text" />
                                                    <input type="hidden" name="id" value="<{$video['id']}>"/>
                                                </div>
                                            </div>

                                            <div class="control-group">
                                                <label class="control-label"> 视频来源(iqiyi,tudou,youku,qq)：</label>
                                                <div class="controls">
                                                    <input class="Wdate m-wrap small" value="<{$video['source']}>" name="source" type="text" />
                                                    
                                                </div>
                                            </div>

                                            <div class="control-group">

                                                <label class="control-label"> 所属星吧：</label>

                                                <div class="controls">

                                                    <select class="m-wrap small"  name="fid">
                                                        <option value="">--请选择--</option>
                                                        <{foreach name="forums" item="forum"}>
                                                        <option value='<{$forum.id}>' <{if condition="$forum.id eq $video['fid']"}>selected="selected"<{/if}>><{$forum.name}></option>
                                                        <{/foreach}>

                                                    </select>

                                                </div>

                                            </div>

                                            <div class="control-group">



                                                <label class="control-label">视频简介：</label>



                                                <div class="controls">



                                                    <textarea class="large m-wrap" rows="6"  name="synopsis"><{$video['synopsis']}></textarea>



                                                </div>



                                            </div>

                                            <div class="control-group">



                                                <label class="control-label"> 视频封面：</label>



                                                <div class="controls">

                                                    <img style="width: 100px;height: 80px" src="<{$video['id']|getVideoCover}>" />

                                                    <input style="width: 90px" class="Wdate m-wrap small" name="cover" type="file" />
                                                    注意：视频封面为必填选项，请将视频任意你感觉不错的一帧截出500×400的图片进行上传
                                                </div>



                                            </div>

                                            <div class="control-group">



                                                <label class="control-label"> 视频热度：</label>



                                                <div class="controls">

                                                    <input style="width: 90px" class="Wdate m-wrap small" value="<{$video['order']}>" name="order" type="text" />
                                                    描述：热度用于该星吧视频展示的排序，该吧视频最热度数为<{$hot}>
                                                </div>



                                            </div>
                                            <div class="control-group">



                                                <label class="control-label"> 点赞数：</label>



                                                <div class="controls">

                                                    <input style="width: 90px" class="Wdate m-wrap small" value="<{$video['favors']}>" name="favors" type="text" />
                                                    注意：点赞数为了修改方便才加入的，默认最好不要修改
                                                </div>



                                            </div>
                                            <div class="control-group">


                                                <label class="control-label">视频flash路径：</label>


                                                <div class="controls">


                                                    <textarea class="large m-wrap" rows="3" name="flashurl"><{$video['flashurl']}></textarea>


                                                </div>


                                            </div>
                                            <div class="control-group">



                                                <label class="control-label">视频路径：</label>



                                                <div class="controls">



                                                    <textarea class="large m-wrap" rows="3"  name="url"><{$video['url']}></textarea>



                                                </div>



                                            </div>


                                            <div class="control-group">



                                                <label class="control-label">手机视频路径：</label>



                                                <div class="controls">



                                                    <textarea class="large m-wrap" rows="3"  name="mobileurl"><{$video['mobileurl']}></textarea>



                                                </div>



                                            </div>


                                            <div class="control-group">
                                                <label class="control-label"> 补充字段：</label>
                                                <div class="controls">
                                                    <input class="Wdate m-wrap small" value="<{$video['addition']}>" name="addition" type="text" />
                                                    注意：当视频是iqiyi,tudou,youku,qq来源时，需要填写
                                                </div>
                                            </div>

                                            <div class="control-group">
                                                <label class="control-label"> 补充字段2：</label>
                                                <div class="controls">
                                                    <input class="Wdate m-wrap small" value="<{$video['addition2']}>" name="addition2" type="text" />
                                                </div>
                                            </div>

                                            <div class="control-group">
                                                <label class="control-label"> 补充字段3：</label>
                                                <div class="controls">
                                                    <input class="Wdate m-wrap small" value="<{$video['addition3']}>" name="addition3" type="text" />
                                                </div>
                                            </div>
                                            
                                            <div class="form-actions">
                                                <button type="submit" class="btn blue"><i class="icon-ok"></i> 保存</button>
                                                <button type="button" class="btn">取消</button>
                                            </div>



                                        </form>



                                        <!-- END FORM-->



                                    </div>



                                </div>



                            </div>



                        </div>



                    </div>

                </div>

            </div>

        </div>

    </div>

</div>



<script type="text/javascript">

    //实例化编辑器

    var um = UM.getEditor('myEditor');

    um.addListener('blur',function(){

        $('#focush2').html('编辑器失去焦点了')

    });

    um.addListener('focus',function(){

        $('#focush2').html('')

    });

    //按钮的操作

    function insertHtml() {

        var value = prompt('插入html代码', '');

        um.execCommand('insertHtml', value)

    }

    function isFocus(){

        alert(um.isFocus())

    }

    function doBlur(){

        um.blur()

    }

    function createEditor() {

        enableBtn();

        um = UM.getEditor('myEditor');

    }

    function getAllHtml() {

        alert(UM.getEditor('myEditor').getAllHtml())

    }

    function getContent() {

        var arr = [];

        arr.push("使用editor.getContent()方法可以获得编辑器的内容");

        arr.push("内容为：");

        arr.push(UM.getEditor('myEditor').getContent());

        alert(arr.join("\n"));

    }

    function getPlainTxt() {

        var arr = [];

        arr.push("使用editor.getPlainTxt()方法可以获得编辑器的带格式的纯文本内容");

        arr.push("内容为：");

        arr.push(UM.getEditor('myEditor').getPlainTxt());

        alert(arr.join('\n'))

    }

    function setContent(isAppendTo) {

        var arr = [];

        arr.push("使用editor.setContent('欢迎使用umeditor')方法可以设置编辑器的内容");

        UM.getEditor('myEditor').setContent('欢迎使用umeditor', isAppendTo);

        alert(arr.join("\n"));

    }

    function setDisabled() {

        UM.getEditor('myEditor').setDisabled('fullscreen');

        disableBtn("enable");

    }



    function setEnabled() {

        UM.getEditor('myEditor').setEnabled();

        enableBtn();

    }



    function getText() {

        //当你点击按钮时编辑区域已经失去了焦点，如果直接用getText将不会得到内容，所以要在选回来，然后取得内容

        var range = UM.getEditor('myEditor').selection.getRange();

        range.select();

        var txt = UM.getEditor('myEditor').selection.getText();

        alert(txt)

    }



    function getContentTxt() {

        var arr = [];

        arr.push("使用editor.getContentTxt()方法可以获得编辑器的纯文本内容");

        arr.push("编辑器的纯文本内容为：");

        arr.push(UM.getEditor('myEditor').getContentTxt());

        alert(arr.join("\n"));

    }

    function hasContent() {

        var arr = [];

        arr.push("使用editor.hasContents()方法判断编辑器里是否有内容");

        arr.push("判断结果为：");

        arr.push(UM.getEditor('myEditor').hasContents());

        alert(arr.join("\n"));

    }

    function setFocus() {

        UM.getEditor('myEditor').focus();

    }

    function deleteEditor() {

        disableBtn();

        UM.getEditor('myEditor').destroy();

    }

    function disableBtn(str) {

        var div = document.getElementById('btns');

        var btns = domUtils.getElementsByTagName(div, "button");

        for (var i = 0, btn; btn = btns[i++];) {

            if (btn.id == str) {

                domUtils.removeAttributes(btn, ["disabled"]);

            } else {

                btn.setAttribute("disabled", "true");

            }

        }

    }

    function enableBtn() {

        var div = document.getElementById('btns');

        var btns = domUtils.getElementsByTagName(div, "button");

        for (var i = 0, btn; btn = btns[i++];) {

            domUtils.removeAttributes(btn, ["disabled"]);

        }

    }

</script>

<{include file="default/Public/footer" /}>